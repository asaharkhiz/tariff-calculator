<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ماشین‌حساب تعرفه کارگردانی ۱۴۰۴</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#0b1220">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Tariff 1404">
  <link rel="apple-touch-icon" href="./icon-192.png">

  <style>
    body{margin:0;background:#0b1220;color:#fff;font-family:sans-serif}
    .wrap{max-width:900px;margin:auto;padding:20px}
    h1{margin-top:0}
    label{display:block;margin-top:12px;font-size:14px}
    input,select,button{width:100%;padding:10px;margin-top:6px}
    button{margin-top:16px;cursor:pointer}
    .result{margin-top:20px;padding:15px;background:#111;border-radius:8px}
  </style>
</head>
<body>

<div class="wrap">
  <h1>ماشین‌حساب تعرفه کارگردانی ۱۴۰۴</h1>

  <label>عدد پایه S (تومان / ماه)</label>
  <input id="S" type="number" value="150000000">

  <label>مدت پروژه (روز)</label>
  <input id="days" type="number" value="30">

  <label>سطح</label>
  <select id="level">
    <option value="1.25">A</option>
    <option value="1.4">B</option>
    <option value="1" selected>C</option>
    <option value="0.6">D</option>
    <option value="0.3">E</option>
  </select>

  <label>نوع پروژه</label>
  <select id="project">
    <option value="1.33">سینمایی</option>
    <option value="1" selected>سریالی</option>
    <option value="0.67">کوتاه</option>
    <option value="1.1">سفارشی</option>
  </select>

  <label>بازار</label>
  <select id="market">
    <option value="1" selected>داخلی</option>
    <option value="1.25">خارجی</option>
    <option value="1.45">بین‌المللی پرستیژ</option>
  </select>

  <label>ددلاین</label>
  <select id="deadline">
    <option value="1" selected>عادی</option>
    <option value="1.2">فشرده</option>
    <option value="1.4">بحرانی</option>
  </select>

  <label>دستیار</label>
  <select id="assistant">
    <option value="1" selected>با دستیار</option>
    <option value="1.1">بدون دستیار</option>
  </select>

  <label>پیچیدگی</label>
  <select id="complexity">
    <option value="1" selected>استاندارد</option>
    <option value="1.2">پیچیده</option>
    <option value="1.4">خیلی پیچیده</option>
  </select>

  <button type="button" onclick="calc()">محاسبه</button>

  <div class="result" id="out"></div>
</div>

<script>
function calc(){
  const S = +S_input.value;
  const T = (+days.value)/30;
  const total =
    S *
    +level.value *
    +project.value *
    T *
    +market.value *
    +deadline.value *
    +assistant.value *
    +complexity.value;

  const monthly = total / T;

  out.innerHTML =
    'کل پروژه: ' + total.toLocaleString() + ' تومان<br>' +
    'معادل ماهانه: ' + monthly.toLocaleString() + ' تومان';
}

const S_input = document.getElementById('S');
const days = document.getElementById('days');
const level = document.getElementById('level');
const project = document.getElementById('project');
const market = document.getElementById('market');
const deadline = document.getElementById('deadline');
const assistant = document.getElementById('assistant');
const complexity = document.getElementById('complexity');
const out = document.getElementById('out');

calc();
</script>

<!-- Service Worker -->
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js');
}
</script>

</body>
</html>
